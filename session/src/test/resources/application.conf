akka {
  loggers = ["akka.event.slf4j.Slf4jLogger"]
  logging-filter = "akka.event.slf4j.Slf4jLoggingFilter"
  loglevel = "DEBUG"
}
datastax-java-driver {
  basic {
    # provided via `docker-compose up -d cassandra`
    contact-points = [ "127.0.0.1:9042" ]
    load-balancing-policy.local-datacenter = datacenter1
  }
}

akka {
  discovery.method = config
}
akka.discovery.config.services = {
  cassandra-service = {
    endpoints = [
      {
        host = "127.0.0.1"
        port = 9042
      }
    ]
  }
  cassandra-service-no-port = {
    endpoints = [
      {
        host = "127.0.0.1"
      }
    ]
  }
}

with-akka-discovery {
  session-provider = "akka.stream.alpakka.cassandra.DefaultSessionProvider"
  service-discovery {
    name = "cassandra-service"
    lookup-timeout = 1 s
  }
  datastax-java-driver-config = datastax-java-driver-illegal-contact-point
}
datastax-java-driver-illegal-contact-point {
  basic {
    contact-points = [ "127.0.0.1:8088" ]
    load-balancing-policy.local-datacenter = datacenter1
  }
}

without-akka-discovery {
  session-provider = "akka.stream.alpakka.cassandra.DefaultSessionProvider"
  service-discovery {
    name = ""
    lookup-timeout = 1 s
  }
  datastax-java-driver-config = datastax-java-driver-illegal-contact-point
}

with-akka-discovery-no-port {
  session-provider = "akka.stream.alpakka.cassandra.DefaultSessionProvider"
  service-discovery {
    name = "cassandra-service-no-port"
    lookup-timeout = 1 s
  }
  datastax-java-driver-config = datastax-java-driver-illegal-contact-point
}
